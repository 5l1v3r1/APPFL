
fac = FUN(i ->
  case i of {
    I i# ->
      case fac# i# of {
        x# -> let {res = CON(I x#)} in res }});

fac# = FUN(i# ->
  case ieq# i# 0 of {               -- returning True#
    True#  -> 1;                    -- assume matching on unboxed constants
    False# -> case isub# i# 1 of {
               im1# -> case fac# im1# of {
                         f1# -> imul# i# f1# }}});

five = CON(I 5);

main = THUNK(fac five)
